<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>首页</title>
    <link rel="stylesheet" href="css/nav.css">
    <link rel="stylesheet" href="css/reset.css">

</head>

<body>
    <nav class="navbar">
        <div class="user-info">
            <img src="" class="avatar" alt="用户头像">
            <span id="username">张三</span>
            <div class="dropdown">
                <div class="dropdown-item" onclick="goToWork()">工作区</div>
                <div class="dropdown-item" onclick="goToPersonal()">个人中心</div>
                <div class="dropdown-item" onclick="handleLogout()">退出登录</div>
            </div>
        </div>
    </nav>
    <script>
        function initNavInfo() {
            const username = localStorage.getItem('username');
            const avatar = localStorage.getItem('avatarUrl');
            username && (document.querySelector('#username').innerText = username);
            avatar && (document.querySelector('.avatar').src = avatar);
        }
        initNavInfo();
        function goToWork() {
            location.href = 'http://localhost:5000/workspace';
        }
        function goToPersonal() {
            location.href = 'http://localhost:5000/personal';
        }
        function handleLogout() {
            localStorage.removeItem('username');
            localStorage.removeItem('avatarUrl');
            localStorage.removeItem('desc');
            localStorage.removeItem('templateList');
            location.href = 'http://localhost:5000/login';
        }
    </script>
</body>

</html>